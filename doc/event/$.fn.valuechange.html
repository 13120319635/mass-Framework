<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8" />
        <title>$.fn.valuechange</title>
        <script src="../public/js/mass_merge.js" type="text/javascript" ></script>
        <script src="../public/js/common.js" type="text/javascript" ></script>
        <script src="../public/js/shCore.js" type="text/javascript" ></script>
        <script src="../public/js/shBrushJScript.js" type="text/javascript" ></script>
        <script src="../public/js/shBrushCss.js" type="text/javascript" ></script>
        <script src="../public/js/shBrushXml.js" type="text/javascript" ></script>
        <link type="text/css" rel="stylesheet" href="../public/styles/shCore.css"/>
        <link type="text/css" rel="stylesheet" href="../public/styles/shThemeRDark.css"/>
        <link type="text/css" rel="stylesheet" href="../public/styles/common.css"/>
        <style type="text/css">
            #show_result1 { color:red; }
            #show_result2 { color:green; }
        </style>
        <script type="text/javascript">
            SyntaxHighlighter.config.clipboardSwf = '../js/clipboard.swf';
            SyntaxHighlighter.all();

            $.require("ready,event",function(){
                function log(first, type, i){
                    $("#show_result"+ i).append(first+"测试"+type+"的事件"+(i==1 ? "绑定":"代理")+"<br/>");
                }
                //===================事件绑定=====================
                $(".textinputchange1").valuechange(function(e){
                    log('text',e.type,1);
                });
                $(".passwordchange1").valuechange(function(e){
                    log('pawword',e.type,1);
                });
                $(".textareachange1").valuechange(function(e){
                    log('textarea',e.type,1);
                });
                //===================事件绑定=====================
                $("body").delegate(".textinputchange2","valuechange",function(e){
                    log('text',e.type,2);
                });
                $("body").delegate(".passwordchange2","valuechange",function(e){
                    log('password',e.type,2);
                });
                $("body").delegate(".textareachange2","valuechange",function(e){
                    log('textarea',e.type,2);
                });
            })
        </script>
    </head>
    <body>
    <article>
        <h3>$.fn.valuechange([ fn ])</h3>
        <p><span class="stress">描述：</span></p>
        <p>一个非常有用的自定义事件。此事件其实就是两个罕为人知的事件的统称：IE的propertychange事件与标准浏览器下的input事件，
            都是针对的文本域或文本区的文本变化作出即时反应。但显然IE的propertychange还对元素的其他属性的变化有反应，
            因此valuechange是使用框架内部的适配器中的change事件做模拟。此事件常用于搜索拦的suggest组件。
        </p>
        <p>此事件可以支持bind,delegate,fire等接口，尽管fire没什么用处。</p>

        <p><span class="stress">参数：</span></p>
        <dl>
            <dt>fn</dt>
            <dd>
                可选。Funcion。回调函数。
            </dd>
        </dl>

        <fieldset><legend>例子</legend>
            <form class="test_submit" action="javascript:void(0)" >
                <input class="textinputchange1" value="文本域1" />
                <input class="passwordchange1"  type="password" value="测试1"/><br/>
                <textarea class="textareachange1">文本区</textarea>
                <div id="show_result1"></div><hr/>
                <input class="textinputchange2" value="文本域2" />
                <input class="passwordchange2"  type="password" value="测试2"/><br/>
                <textarea class="textareachange2">文本区</textarea><br/>
                <div id="show_result2"></div>
            </form>


            <pre class="brush:xml;gutter:false;toolbar:false">
      &lt;form class="test_submit" action="javascript:void(0)" &gt;
            &lt;input class="textinputchange1" value="文本域1" /&gt;
            &lt;input class="passwordchange1"  type="password" value="测试1"/&gt;&lt;br/&gt;
            &lt;textarea class="textareachange1"&gt;文本区&lt;/textarea&gt;
            &lt;div id="show_result1"&gt;&lt;/div&gt;&lt;hr/&gt;
            &lt;input class="textinputchange2" value="文本域2" /&gt;
            &lt;input class="passwordchange2"  type="password" value="测试2"/&gt;&lt;br/&gt;
            &lt;textarea class="textareachange2"&gt;文本区&lt;/textarea&gt;&lt;br/&gt;
            &lt;div id="show_result2"&gt;&lt;/div&gt;
        &lt;/form&gt;
            </pre>
            <pre class="brush:javascript;gutter:false;toolbar:false">
            $.require("ready,event",function(){
                function log(first, type, i){
                    $("#show_result"+ i).append(first+"测试"+type+"的事件"+(i==1 ? "绑定":"代理")+"<br/>");
                }
                //===================事件绑定=====================
                $(".textinputchange1").valuechange(function(e){
                    log('text',e.type,1);
                });
                $(".passwordchange1").valuechange(function(e){
                    log('pawword',e.type,1);
                });
                $(".textareachange1").valuechange(function(e){
                    log('textarea',e.type,1);
                });
                //===================事件代理=====================
                $("body").delegate(".textinputchange2","valuechange",function(e){
                    log('text',e.type,2);
                });
                $("body").delegate(".passwordchange2","valuechange",function(e){
                    log('password',e.type,2);
                });
                $("body").delegate(".textareachange2","valuechange",function(e){
                    log('textarea',e.type,2);
                });
            })
            </pre>
        </fieldset>


    </article>
</body>
</html>