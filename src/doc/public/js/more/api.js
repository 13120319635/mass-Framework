$.define("api", function(){
    var _getAPI = function(obj,com,ret,i){
        for(var name in obj){
            if(obj.hasOwnProperty(name) && (name == "fn" || !com.hasOwnProperty(name))){
                var prop = obj[ name ];
                var type = typeof prop;
                if(!com[name]){
                    com[name] = {}
                }
                ret[name] = type;
                if((type === "function" || type === "object") && Object.keys(prop).length >= 3 && i < 4){
                    ret[name] = {}
                    _getAPI(prop,  com[name], ret[name], ++i)
                }
            }
        }
    }
    //    window.compare = {};
    //    window.API = {};
    //    var getAPI = function(name){
    //        var ret = {};
    //        _getAPI($, compare, ret, 0);
    //        API[ name ] = ret;
    //    }
    //        $.require("ready,fx,attr,event,flow,ajax",function(){
    //           delete API.core["1"]
    //           $.log( JSON.stringify(window.API,null,2))
    //        })
    //它利用上述方法与属性在mass.js这个文件的三处，求得整个框架的API
    return {
        "模块加载模块": {
            "html": "object",
            "head": "object",
            "rword": "object",
            "mass": "number",
            "@name": "string",
            "@debug": "boolean",
            "@target": "string",
            "@path": "string",
            "exports": "function",
            "slice": "function",
            "type": "function",
            "log": "function",
            "uuid": "number",
            "getUid": "function",
            "oneObject": "function",
            "error": "function",
            "noop": "function",
            "@modules": "object",
            "stack": {
                "method": "string",
                "fire": "function",
                "complete": "function"
            },
            "mix": "function",
            "bind": "function",
            "unbind": "function",
            "require": "function",
            "define": "function",
            "_checkDeps": "function",
            "_checkFail": "function"
        },
        "特征嗅探模块": {
            "support": {
                "insertTbody": "boolean",
                "checkOn": "boolean",
                "optSelected": "boolean",
                "attrHref": "boolean",
                "attrStyle": "boolean",
                "attrProp": "boolean",
                "cssOpacity": "boolean",
                "cssFloat": "boolean",
                "traverseAll": "boolean",
                "createAll": "boolean",
                "cloneHTML5": "boolean",
                "cloneNode": "boolean",
                "innerHTML": "boolean",
                "insertAdjacentHTML": "boolean",
                "fastFragment": "boolean",
                "inlineBlock": "boolean",
                "keepSize": "boolean",
                "cssPercentedMargin": "boolean",
                "cloneChecked": "boolean",
                "appendChecked": "boolean",
                "optDisabled": "boolean",
                "boxModel": "boolean"
            }
        },
        "语言扩展模块": {
            "isPlainObject": "function",
            "isNative": "function",
            "isEmptyObject": "function",
            "isArrayLike": "function",
            "format": "function",
            "tag": "function",
            "range": "function",
            "quote": "function",
            "each": "function",
            "dump": "function",
            "parseJS": "function",
            "parseJSON": "function",
            "parseXML": "function",
            "isArray": "function",
            "isFunction": "function",
            "lang": "function",
            "String": {
                "contains": "function",
                "startsWith": "function",
                "endsWith": "function",
                "byteLen": "function",
                "empty": "function",
                "blank": "function",
                "truncate": "function",
                "camelize": "function",
                "underscored": "function",
                "capitalize": "function",
                "toInt": "function",
                "toFloat": "function",
                "toHex": "function",
                "escapeRegExp": "function",
                "padLeft": "function",
                "padRight": "function",
                "times": "function"
            },
            "Array": {
                "clone": "function",
                "first": "function",
                "last": "function",
                "contains": "function",
                "remove": "function",
                "removeAt": "function",
                "shuffle": "function",
                "random": "function",
                "min": "function",
                "max": "function",
                "pluck": "function",
                "sortBy": "function",
                "compact": "function",
                "diff": "function",
                "merge": "function",
                "union": "function",
                "intersect": "function",
                "unique": "function",
                "flatten": "function"
            },
            "Number": {
                "times": "function",
                "constrain": "function",
                "nearer": "function",
                "upto": "function",
                "downto": "function",
                "round": "function",
                "padLeft": "function",
                "padRight": "function",
                "abs": "function",
                "acos": "function",
                "asin": "function",
                "atan": "function",
                "atan2": "function",
                "ceil": "function",
                "cos": "function",
                "exp": "function",
                "floor": "function",
                "log": "function",
                "pow": "function",
                "sin": "function",
                "sqrt": "function",
                "tan": "function"
            },
            "Object": {
                "subset": "function",
                "forEach": "function",
                "map": "function",
                "clone": "function",
                "merge": "function",
                "without": "function"
            }
        },
        "类工厂模块": {
            "mutators": {
                "inherit": "function",
                "implement": "function",
                "extend": "function"
            },
            "factory": "function"
        },
        "选择器模块": {
            "isXML": "function",
            "contains": "function",
            "getText": "function",
            "unique": "function",
            "@bools": "string",
            "query": {
                "getAttribute": "function",
                "hasAttribute": "function",
                "filter": "function",
                "pseudoAdapter": {
                    "root": "function",
                    "target": "object",
                    "first-child": "object",
                    "last-child": "object",
                    "only-child": "object",
                    "first-of-type": "object",
                    "last-of-type": "object",
                    "only-of-type": "object",
                    "nth-child": "object",
                    "nth-last-child": "object",
                    "nth-of-type": "object",
                    "nth-last-of-type": "object",
                    "empty": "object",
                    "link": "object",
                    "lang": "object",
                    "active": "function",
                    "focus": "function",
                    "indeterminate": "function",
                    "enabled": "object",
                    "disabled": "object",
                    "checked": "object",
                    "contains": "object",
                    "selected": "function",
                    "header": "function",
                    "button": "function",
                    "input": "function",
                    "parent": "function",
                    "has": "function",
                    "first": "function",
                    "last": "function",
                    "even": "function",
                    "odd": "function",
                    "lt": "function",
                    "gt": "function",
                    "eq": "function",
                    "hidden": "function",
                    "visible": "function",
                    "text": "function",
                    "radio": "function",
                    "checkbox": "function",
                    "file": "function",
                    "password": "function",
                    "submit": "function",
                    "image": "function",
                    "reset": "function"
                }
            }
        },
        "数据缓存模块": {
            "data": "function",
            "_data": "function",
            "removeData": "function",
            "mergeData": "function"
        },
        "节点操作模块": {
            "inherit": "function",
            "implement": "function",
            "extend": "function",
            "fn": {
                "init": "function",
                "mass": "string",
                "length": "number",
                "valueOf": "function",
                "toString": "function",
                "labor": "function",
                "slice": "function",
                "get": "function",
                "eq": "function",
                "gt": "function",
                "lt": "function",
                "first": "function",
                "even": "function",
                "odd": "function",
                "last": "function",
                "each": "function",
                "map": "function",
                "collect": "function",
                "clone": "function",
                "html": "function",
                "text": "function",
                "outerHTML": "function",
                "remove": "function",
                "empty": "function",
                "append": "function",
                "appendTo": "function",
                "prepend": "function",
                "prependTo": "function",
                "before": "function",
                "beforeTo": "function",
                "after": "function",
                "afterTo": "function",
                "replace": "function",
                "replaceTo": "function",
                "data": "function",
                "removeData": "function",
                "find": "function",
                "filter": "function",
                "not": "function",
                "is": "function",
                "has": "function",
                "closest": "function",
                "index": "function",
                "parent": "function",
                "parents": "function",
                "parentsUntil": "function",
                "next": "function",
                "nextAll": "function",
                "nextUntil": "function",
                "prev": "function",
                "prevAll": "function",
                "prevUntil": "function",
                "children": "function",
                "siblings": "function",
                "contents": "function"
            },
           // "match": "function",
           // "access": "function",
            "parseHTML": "function"
        },
        "派发器模块": {
            "eventAdapter": "object",
            "event": {
                "bind": "function",
                "unbind": "function",
                "fire": "function",
                "filter": "function",
                "dispatch": "function",
                "fix": "function"
            },
            "Event": "function",
            "target": {
                "bind": "function",
                "unbind": "function",
                "fire": "function",
                "uniqueNumber": "number",
                "defineEvents": "function"
            }
        },
        "属性操作模块": {
            "fn": {
                "addClass": "function",
                "class": "function",
                "hasClass": "function",
                "removeClass": "function",
                "toggleClass": "function",
                "replaceClass": "function",
                "val": "function",
                "removeAttr": "function",
                "removeProp": "function",
                "attr": "function",
                "prop": "function"
            },
            "attr": "function",
            "prop": "function",
            "attrMap": "object",
            "propMap": {
                "accept-charset": "string",
                "char": "string",
                "charoff": "string",
                "class": "string",
                "for": "string",
                "http-equiv": "string",
                "accesskey": "string",
                "allowtransparency": "string",
                "bgcolor": "string",
                "cellpadding": "string",
                "cellspacing": "string",
                "codebase": "string",
                "codetype": "string",
                "colspan": "string",
                "contenteditable": "string",
                "datetime": "string",
                "defaultchecked": "string",
                "defaultselected": "string",
                "defaultvalue": "string",
                "frameborder": "string",
                "ismap": "string",
                "longdesc": "string",
                "maxlength": "string",
                "marginwidth": "string",
                "marginheight": "string",
                "nohref": "string",
                "noresize": "string",
                "noshade": "string",
                "readonly": "string",
                "rowspan": "string",
                "tabindex": "string",
                "usemap": "string",
                "vspace": "string",
                "valuetype": "string",
                "valign": "string"
            },
            "@remove_attr": "function",
            "propAdapter": {
                "@xml:get": "function",
                "@xml:set": "function",
                "@html:get": "function",
                "tabIndex:get": "function",
                "@html:set": "function",
                "tabIndex:set": "undefined"
            },
            "attrAdapter": {
                "@xml:get": "function",
                "@xml:set": "function",
                "tabIndex:get": "function",
                "value:get": "function",
                "value:set": "function",
                "@html:get": "function",
                "@html:set": "function",
                "autofocus:get": "function",
                "autofocus:set": "function",
                "autoplay:get": "function",
                "autoplay:set": "function",
                "async:get": "function",
                "async:set": "function",
                "checked:get": "function",
                "checked:set": "function",
                "controls:get": "function",
                "controls:set": "function",
                "declare:get": "function",
                "declare:set": "function",
                "disabled:get": "function",
                "disabled:set": "function",
                "defer:get": "function",
                "defer:set": "function",
                "defaultChecked:get": "function",
                "defaultChecked:set": "function",
                "contentEditable:get": "function",
                "contentEditable:set": "function",
                "ismap:get": "function",
                "ismap:set": "function",
                "loop:get": "function",
                "loop:set": "function",
                "multiple:get": "function",
                "multiple:set": "function",
                "noshade:get": "function",
                "noshade:set": "function",
                "open:get": "function",
                "open:set": "function",
                "noresize:get": "function",
                "noresize:set": "function",
                "readOnly:get": "function",
                "readOnly:set": "function",
                "selected:get": "function",
                "selected:set": "function"
            },
            "valAdapter": "object"
        },
        "DOM事件模块": {
            "fn": {
                "toggle": "function",
                "hover": "function",
                "on": "function",
                "off": "function",
                "one": "function",
                "bind": "function",
                "unbind": "function",
                "live": "function",
                "die": "function",
                "undelegate": "function",
                "delegate": "function",
                "fire": "function",
                "contextmenu": "function",
                "click": "function",
                "dblclick": "function",
                "mouseout": "function",
                "mouseover": "function",
                "mouseenter": "function",
                "mouseleave": "function",
                "mousemove": "function",
                "mousedown": "function",
                "mouseup": "function",
                "mousewheel": "function",
                "abort": "function",
                "error": "function",
                "load": "function",
                "unload": "function",
                "resize": "function",
                "scroll": "function",
                "change": "function",
                "input": "function",
                "select": "function",
                "reset": "function",
                "submit": "function",
                "blur": "function",
                "focus": "function",
                "focusin": "function",
                "focusout": "function",
                "keypress": "function",
                "keydown": "function",
                "keyup": "function"
            },
            "eventSupport": "function"
        },
        "样式操作模块": {
            "fn": {
                "css": "function",
                "rotate": "function",
                "innerHeight": "function",
                "outerHeight": "function",
                "height": "function",
                "innerWidth": "function",
                "outerWidth": "function",
                "width": "function",
                "offset": "function",
                "position": "function",
                "offsetParent": "function",
                "scrollLeft": "function",
                "scrollTop": "function"
            },
            "cssAdapter": {
                "_default:get": "function",
                "_default:set": "function",
                "rotate:get": "function",
                "rotate:set": "function",
                "height:get": "function",
                "width:get": "function",
                "userSelect:set": "function",
                "left:get": "function",
                "top:get": "function"
            },
            "cssMap": {
                "c": "string",
                "h": "string",
                "o": "string",
                "r": "string",
                "w": "string",
                "x": "string",
                "y": "string",
                "fs": "string",
                "st": "string",
                "sl": "string",
                "sx": "string",
                "sy": "string",
                "tx": "string",
                "ty": "string",
                "bgc": "string",
                "opacity": "string",
                "float": "string",
                "transform": "string",
                "userSelect": "string"
            },
            "cssName": "function",
            "scrollbarWidth": "function",
            "cssNumber": {
                "fontSizeAdjust": "number",
                "fontWeight": "number",
                "lineHeight": "number",
                "opacity": "number",
                "orphans": "number",
                "widows": "number",
                "zIndex": "number",
                "zoom": "number",
                "rotate": "number"
            },
            "css": "function",
            "_all2deg": "function",
            "_all2rad": "function",
            "_toMatrixArray": "function",
            "_toMatrixObject": "function",
            "transform": "function"
        },
        "动画模块": {
            "fn": {
                "fx": "function",
                "stop": "function",
                "delay": "function",
                "slideDown": "function",
                "slideUp": "function",
                "slideToggle": "function",
                "fadeIn": "function",
                "fadeOut": "function",
                "fadeToggle": "function",
                "show": "function",
                "hide": "function",
                "puff": "function"
            },
            "fxAdapter": {
                "_default": "object",
                "type": "function",
                "scroll": "object",
                "transform": "object",
                "color": "object"
            },
            "easing": "object",
            "fx": "function",
            "show": "function",
            "hide": "function",
            "toggle": "function"
        },
        "操作流模块":{
            "flow":"function"
        },
        "AJAX模块": {
            "get": "function",
            "post": "function",
            "getScript": "function",
            "getJSON": "function",
            "upload": "function",
            "serialize": "function",
            "serializeArray": "function",
            "param": "function",
            "ajax": {
                "bind": "function",
                "unbind": "function",
                "fire": "function",
                "uniqueNumber": "number",
                "defineEvents": "function",
                "isLocal": "boolean"
            },
            "jXHR": {
                "inherit": "function",
                "implement": "function",
                "extend": "function",
                "_init": "object",
                "toString": "function"
            },
            "xhr": "function"
        }
    }
})

