<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>mass Framework</title>
        <script type="text/javascript" src="../src/jquery.js" charset="UTF-8"></script>
        <style>
            .carousel{
                height:120px;
                width:480px;
                overflow:hidden;
            }
            .carousel ul{
                padding:0;
                margin:0;
                border:1px solid red;
                list-style:none;
                height:120px;
            }
            .carousel li{
                float:left;
                background:green;
                display:inline-block;
                width:160px;
                padding:0;
                margin:0;
            }
            .carousel li img{
                display:block;
            }
            .js-go-left,.js-go-right{
                background:green;
                width:200px;
                height:40px;

            }

        </style>
        <script>
      
            $(function(){
                var ul = $(".carousel ul");
                var lis = ul.children();
                var w = $(".carousel li").width()
                var n = lis.length, cur = n
                lis.clone().prependTo(ul);
                lis.clone().appendTo(ul);
                ul.width( 10000 );
                ul.css("margin-left",  160 * n *-1 )
                $(".js-go-left,.js-go-right").click(function(){
                    ul.stop(true,true);
                    var left = $(this).hasClass("js-go-left"),prefix
                    if(left){
                        cur--;
                        prefix = "-="
                    }else{
                        cur++;
                        prefix = "+="
                    }
                    ul.animate({
                        "margin-left": prefix+w
                    }, 700,function(){
                        if( cur == 0 || cur == n * 2  ){
                            ul.css("margin-left", w * n *-1 )
                            cur = n
                        }
                    })
                })
            })
        </script>
    </head>
    <body>
        <div class="js-go-left">
            向左
        </div>
        <div class="js-go-right">
            向右
        </div>
        <div class="carousel">
            <ul>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_000.jpg"/>
                </li>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_001.jpg"/>
                </li>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_002.jpg"/>
                </li>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_003.jpg"/>
                </li>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_004.jpg"/>
                </li>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_005.jpg"/>
                </li>
                <li>
                    <img src="http://images.cnblogs.com/cnblogs_com/rubylouvre/199042/o_006.jpg"/>
                </li>
            </ul>
        </div>
    </body>
</html>

