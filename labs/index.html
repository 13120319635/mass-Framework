<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>mass Framework</title>


        <script type="text/javascript" src="../src/mass.js" charset="UTF-8"></script>
        <!-- <script type="text/javascript" src="ko.js" charset="UTF-8"></script>-->

        <script>

            $.require("ready", function(){
                var a = function(v){
                    if(a.v !== v){
                        a.v = v;
                        fire(a)
                    }
                    if(arguments.length == 0){
                        return a.v
                    }
                }

                var b = function(v){
                    if(b.v !== v){
                        b.v = v;
                        fire(b)
                    }
                    if(arguments.length == 0){
                        return b.v
                    }
                }
                function fire(fn){
                    var list = fn.list || [];
                    for(var i =0, el; el = list[i++];){
                        el()
                    }
                }
                var c = function(){
                    if(arguments.length == 0){
                        var r = a.v + b.v
                        console.log("c  "+r);
                        c.r = r;
                        return r
                    }
                }
                a.list = b.list = [c]
                var d = function(){
                    if(arguments.length == 0){
                        var r = c.v
                        console.log("d  "+r)
                        return r;
                    }
                }
                d.list = [c]
                a(1);
                b(2)
                a(3);


            })

        </script>



    </head>
    <body>
        The name is <span data-bind="text: fullName" id="node"></span>
    </body>
</html>
