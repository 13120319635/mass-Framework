<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8"/>
        <title>mass Framework</title>


        <script type="text/javascript" src="../src/mass.js" charset="UTF-8"></script>-->
        <!--  <script type="text/javascript" src="ko.js" charset="UTF-8"></script> -->

        <script>

            $.require("ready,more/bindings", function(){
                function MyViewModel() {
                    this.firstName = $.observable('Planet');
                    this.lastName = $.observable('Earth');
                    this.fullName = $.computed({
                        getter: function () {
                            return  this.firstName() + " " + this.lastName();
                        },
                        setter: function (value) {
                            var lastSpacePos = value.lastIndexOf(" ");
                            if (lastSpacePos > 0) { // Ignore values with no space character
                                this.firstName(value.substring(0, lastSpacePos)); // Update "firstName"
                                this.lastName(value.substring(lastSpacePos + 1)); // Update "lastName"
                            }
                        },
                        scope: this
                    });
                }
                var model = new MyViewModel();

                var c = $.applyBindings(model,$("#node")[0]);
                setTimeout(function(){
                    model.firstName("neo")
                },1000)
                setTimeout(function(){
                    model.firstName("xxx")
                },2000)
             

            })
        </script>




    </head>
    <body>
        The name is <span data-bind="text: fullName" id="node"></span>
        <table>
            <thead>
                <tr><th>First name</th><th>Last name</th></tr>
            </thead>
            <tbody data-bind="foreach: people">
                <!--22-->
                <tr>
                    <td data-bind="text: firstName"></td>
                    <td data-bind="text: lastName"></td>
                </tr>
            </tbody>
        </table>
    </body>
</html>
