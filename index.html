<!DOCTYPE HTML>
<html>
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>todos</title>
        <style>
            body{
                font-size: 16px;
            }
            .example{

                margin-left:2em;
                padding:1em;
                width: 70%;
                border:1px solid #ccc;
                background: #eee;
            }
        </style>

        <!--        <link rel="stylesheet" href="http://code.jquery.com/ui/1.10.2/themes/smoothness/jquery-ui.css">-->
        <script>



        </script>

        <script src="avalon.js"></script>

        <script type="text/javascript">
            window.onload = function() {
                var div = document.createComment("div");
                div.id = "ddd";
                //   div.innerHTML = "xxxxxxxxxxxxxxx"
                document.body.insertBefore(div, null);
                // alert(document.getElementById("ddd"))
                //  range = document.createRange();
                //     range.selectNode(document.body);
                // range.deleteContents();
            }

            avalon.ready(function() {
                var model = avalon.define("form", [], function(vm) {
                    vm.fruits = [{name: "xxx"}, {name: "yyy"}, {name: "ooo"}, {name: "ppp"}]
                    vm.numbers = [1, 2, 3, 4]
                    vm.push = function() {
                        vm.fruits.push({name: "ccccccccc"})
                    }
                    vm.pop = function() {
                        vm.fruits.pop()
                    }
                    vm.replace = function() {
                        vm.fruits = [{name: 1}, {name: 2}]
                    }
                });
                setTimeout(function() {
                    model.fruits.set(1, {name: "5555"})
                    model.numbers.set(3, 20)
                }, 4000)
                setTimeout(function() {
                    model.numbers.set(2, 40)
                }, 6000)
                avalon.scan();
            })

        </script>

    </head>
    <body ms-controller="form">
        <div ms-each-el="fruits" >
            <h3>{{el.name}}</h3>
            <p>这是第{{$index}}个了</p>
            <hr/>
        </div>
        <button ms-click="push">push</button>
        <button ms-click="pop">pop</button>
        <button ms-click="replace">replace</button>
        <ol ms-each-number="numbers" >
            <li>{{number}}</li>
        </div>
</body>
</html>


