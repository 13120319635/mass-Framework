
<!DOCTYPE html>
<html>
    <head>
        <title>MVVM Demo by 司徒正美</title>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <script src="mass.js">  </script>
        <style>

        </style>

        <script>
            $.config.level = 6
            require("avalon,ready", function($) {


       

                
                var VM = $.applyBindings({
                    user:{
                        name:"司徒正美",
                        title:"xxx"
                    },
                    firstName: "xxx",
                    lastName: "yyy",
                    fullName: $.computed(function (){
                        return this.firstName() +" "+ this.lastName()
                    },["firstName","lastName"]),
                    list:[{
                            title:"aaa"
                        },
                        {
                            title:"bbb"
                        },
                        {
                            title:"ccc"
                        },
                        {
                            title:"ddd"
                        }
                    ]
                });
                setTimeout(function(){
                    VM.list.splice(1,3,{title:"ee"})
                },500)
               
                //                setTimeout(function(){
                //                    VM.list.push({
                //                        title:"ddd"
                //                    });
                //                    console.log("push")
                //                },500)
                //                setTimeout(function(){
                //                    VM.list.splice(1,1,{
                //                        title:"eee"
                //                    });
                //                    console.log(VM.list)
                //                },800)
                //                 setTimeout(function(){
                //                    VM.list.unshift({
                //                        title:"kkk"
                //                    });
                //                    console.log("unshift")
                //                },1000)
            })





        </script>
    </head>
    <body id="aaa">
        <select id="sel">
            <option>1111</option>
            <option>222</option>
            <option>3333</option>
        </select>
        <ul data-each-item="list">
            <li data-text="item.title">aaaa</li>
        </ul>
        <div>
            <input data-value1="firstName" id="firstName">
            <input data-value2="lastName">
            <span data-text="fullName"></span>
        </div>
        <!--        <div data-each-key-value="user">
                    <p><span data-text="key"></span><span data-text="value"></span></p>
                </div>-->
         $("#sel").on("change", function(e){
                    console.log(e)
                })
    </body>
</html>