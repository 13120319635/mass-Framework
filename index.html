<!DOCTYPE HTML>
<html>
    <head>
        <title>SAW规范的模块加载例子 by 司徒正美</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="mass.js"></script>

    </head>
    <body>
        <ul data-bind="foreach: people" id="ddd">
            <li data-bind="text: $index+firstName">
                XXXX
            </li>
        </ul>

        <script>

            $.require("ready,./more/avalon2", function(){
   
                var model = $.ViewModel({
                    firstName: "aaa",
                    lastName:  "bbb",
                    fullName: {
                        setter: function(val){
                            var arr = val.split(" ")
                            this.firstName(arr[0])
                            this.lastName(arr[1]);
                        },
                        getter: function(){
                            return this.firstName() +" "+ this.lastName()
                        }
                    }
                });
                var test = document.getElementById("test")
                $.View(model, test);
                setTimeout(function(){
                    model.firstName("司徒正美")
                },1000)
  
            })
        </script>
        <p> <strong @bind="text: firstName" id="test"> </strong></p>
    </body>
</html>
