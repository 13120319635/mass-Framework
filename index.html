
<!DOCTYPE html>
<html>
    <head>
        <title>这里的标题是可变长度，所以要求 下面的内容始终贴着标题左边对齐，而标题自身相对容器居中
            Demo by 司徒正美</title>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <script src="mass.js">  </script>
        <style>
            .my-class{
                color: yellow;
                background:orange;
            }
            .your-class {
                line-height:3;
                width:440px;
            }
            .his-class{
                text-indent:2em;
                font-size:14px;
            }
            .enabled{
                width:400px;
                height:50px;
                display:block;
                background:green;
            }
        </style>

        <script>
            $.config.level = 6
            require("ready,mvvm", function() {
                var model = $.applyBindings({
                    log: function(a){
                        console.log(a)
                        return a 
                    },
                    array: ["<strong>aaa</strong>", "bbb", "<em>ccc</em>", "ddd"],
                    user: {
                        display: '编号',
                        name: 'id',
                        align: 'left',
                        width: 600,
                        minWidth: 60
                    },

                    content: "司徒正美",
                    price: 24.95,
                    priceRating: {
                        getter: function(){
                            return this.price() > 50 ? "有点贵" : "比较便宜";
                        },
                        setter: function(){
                            
                        }
                    },
                    item:{
                        enabled: true,
                        readonly:true,
                        title:"这相当于toggleClass"
                    },
                    show: 1,
                    classes: { "my-class": true,"your-class": true, "his-class": true },
                    coords: {
                        latitude:  51.5001524,
                        longitude: -0.1262362
                    },
                    availableCountries : [{text:'France'}, 'Germany',{text:"Singapore",selected:true},'Spain','Japan']
                });
 
                setTimeout(function() {
                    model.price(62)
                    model.availableCountries.splice(1,2)
                    model.availableCountries.push("台湾")
                    model.availableCountries.unshift({
                        text:"澳大利亚",selected:true
                    })
                }, 1000)

            })

        </script>
    </head>
    <body id="aaa">
        <p>你打算移民到哪个国家？</p>
        <select data-options="availableCountries" size="5" multiple="true"></select>
        <div data-class="classes:log">
            测试class绑定,可以同时操作多个类名,classes为一个对象
        </div>
        <div data-class-enabled="enabled.item">
            测试class绑定,每次只添加或移除一个类名,操作类名为data-class-后的值
        </div>
        <div data-if="show">
            <p>测试基于数组的each绑定,可以在data-each-后添加你想要的参数，分别指代元素与索引值</p>
            <ul data-each-item-index="array" >
                <li><span data-html="item"></span>:<span data-text="index"></span></li>
            </ul>
        </div>
        <dl data-each-value-key="user">
            <dt data-text="value">测试基于对象的each绑定</dt>
            <dd data-text="key">可以在data-each-后添加你想要的参数，分别指代键值与键名 </dd>
        </dl>
        <p data-with="coords">
            Latitude: <span data-text="latitude">测试with绑定 </span>,
            Longitude: <span data-text="longitude">测试with绑定 </span>
        </p>

        <input data-value="content"><br/>
        <input data-value="content">测试value绑定及联动功能<span data-text="content"></span>
        <p>这东西 <span data-text="priceRating">测试组合访问器，它是拥有M中两个属性访问器构成</span>。</p>

        <input data-attr-readonly="item.readonly">测试attr绑定
    </body>
</html>