<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="UTF-8">
        <title>scope</title>
        <style>
            .my-class{
                color: yellow;
                background:orange;
            }
            .your-class {
                line-height:3;
                width:200px;
                height:100px;
            }
            .his-class{
                text-indent:2em;
                font-size:14px;
            }

            .blink{
                width:200px;
                height:100px;
                background:yellow
            }
        </style>
        <link rel="stylesheet" href="http://files.cnblogs.com/rubylouvre/todos.css"/>
    </head>
    <body>


        <script src="avalon.js" type="text/javascript"></script>


        <script type="text/javascript">
//document.getElementById("arrayexample").removeAttribute("ms-skip")
avalon.ready(function() {
    document.getElementById("arrayexample").removeAttribute("ms-skip")
    var model = avalon.define(function(vm) {
        vm.array = ["1", "2", "3", "4"]
        "push,unshift,remove,ensure".replace(/\w+/g, function(method) {
            vm[method] = function(e) {
                if (this.value && e.which == 13) {//this为input元素
                    vm.array[method](this.value);
                    this.value = "";
                }
            }
        })
        vm.removeAt = function(e) {
            if (isFinite(this.value) && e.which == 13) {//this为input元素
                vm.array.removeAt(Number(this.value))
                this.value = "";
            }
        }
        "pop,shift,sort,reverse".replace(/\w+/g, function(method) {
            vm[method] = function(e) {
                vm.array[method]();
            }
        })
    });
    avalon.scan();
    setTimeout(function() {
        model.array.clear();
    }, 5000)
})

        </script>
        <fieldset id="arrayexample" ms-skip>
            <legend>例子</legend>
<ul ms-each-el="array" >
    <li>数组的第{{$index+1}}个元素为{{el}}</li>
</ul>
<p>对数组进行push操作，并回车<input ms-keypress="push"></p>
<p>对数组进行unshift操作，并回车<input ms-keypress="unshift"></p>
<p>对数组进行ensure操作，并回车<input ms-keypress="ensure"><br/>
    (只有数组不存在此元素才push进去)</p>
<p>对数组进行remove操作，并回车<input ms-keypress="remove"></p>
<p>对数组进行removeAt操作，并回车<input ms-keypress="removeAt"></p>
<p><button type="button" ms-click="sort">对数组进行sort操作</button></p>
<p><button type="button" ms-click="reverse">对数组进行reverse操作</button></p>
<p><button type="button" ms-click="shift">对数组进行shift操作</button></p>
<p><button type="button" ms-click="pop">对数组进行pop操作</button></p>
<p>当前数组的长度为{{array.size()}}，注意 我们无法修改数组length的固有行为，因此它无法同步视图，需要用size方法。</p>
        </fieldset>
    </body>
</html>