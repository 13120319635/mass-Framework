
<!DOCTYPE html>
<html>
    <head>
        <title>MVVM Demo by 司徒正美</title>
        <meta http-equiv="Content-type" content="text/html; charset=utf-8">
        <script src="mass.js">  </script>
        <style>

        </style>

        <script>
            $.config.level = 6
            require("avalon,ready", function($) {


       
                var $$ = $.MVVM
                
                var VM = $$.toViewModel({
                    user:{
                        xxxx: "aaaa",
                        yyyy: "bbbb"
                    },
                    toggle: true,
                    list:[{
                            title:"aaa"
                        },
                        {
                            title:"bbb"
                        },
                        {
                            title:"ccc"
                        },
                        {
                            title:"ddd"
                        }
                    ]

                });
                VM.remove = function(e){
                    if(e){
                        VM.list.erase(e.target)
                    }
                }
                $$.render(VM)
                setTimeout(function(){
                    VM.toggle(false)
                },500)

             
            })



        


        </script>
    </head>
    <body>
        <ul data-each-item="list">
            <li data-text="item.title" data-on-click="remove">aaaa</li>
        </ul>
        <div data-with="user">
            <p data-text="xxxx"></p>
            <p data-text="yyyy"></p>
        </div>
        <div data-if="toggle">
            这是诸葛亮
        </div>
        <div data-unless="toggle">
            这是周瑜
        </div>
    </body>
</html>