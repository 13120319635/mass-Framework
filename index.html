<!DOCTYPE HTML>
<html>
    <head>
        <title>SAW规范的模块加载例子 by 司徒正美</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="mass.js"></script>

    </head>
    <body>
        <ul data-bind="foreach: people" id="ddd">
            <li data-bind="text: $index+firstName">
                XXXX
            </li>
        </ul>
        <div {{bindAttr class="isUrgent priority"}} id=aaa>
            Warning!
    </div>
    <script>

        $.require("ready,./more/avalon2", function(){
   
            var model = $.ViewModel({
                firstName: "aaa",
                lastName:  "bbb",
           /*   otherName: function(){
                    return this.firstName() + " other"
                },
                moreName: function(){
                    return this.otherName() + " more"
                },*/
                fullName: {
                    setter: function(val){
                        console.log(val)
                        var arr = val.split(" ")
                        this.firstName(arr[0])
                        this.lastName(arr[1]);
                        return val
                    },
                    getter: function(){
                        return this.firstName() +" "+ this.lastName()
                    }
                }
               /* nickName: function(){
                    return this.fullName() + " nick"
                }*/
            });
            /* console.log(model.firstName.uuid)
            console.log(model.firstName.parents)
            console.log(model.otherName.parents)
            console.log(model.fullName.parents)
            console.log(model.nickName.uuid)*/

          //  model.firstName("777")
          console.log("====================")
            console.log( model.fullName("111 2222") )
         //   console.log( model.nickName() )
        })
    </script>
</body>
</html>
