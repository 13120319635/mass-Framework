<!DOCTYPE html>
<html>
    <head>
        <title></title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <script src="avalon.js"></script>
        <script>
            avalon.ready(function() {
                var model = avalon.define("array", function(vm) {
                    vm.array = ["1", "2", "3", "4"]
                    "push,unshift,remove,ensure".replace(/\w+/g, function(method) {
                        vm[method] = function(e) {
                            if (this.value && e.which == 13) {//this为input元素
                                vm.array[method](this.value);
                                this.value = "";
                            }
                        }
                    })
                    vm.removeAt = function(e) {
                        if (isFinite(this.value) && e.which == 13) {//this为input元素
                            vm.array.removeAt(Number(this.value))
                            this.value = "";
                        }
                    }
                    "pop,shift,sort,reverse".replace(/\w+/g, function(method) {
                        vm[method] = function(e) {
                            vm.array[method]();
                        }
                    })
                    vm.people = [
                        {firstName: 'Bert', lastName: 'Bertington'},
                        {firstName: 'Charles', lastName: 'Charlesforth'},
                        {firstName: 'Denise', lastName: 'Dentiste'}
                    ]
                    vm.third = [["a","b"],["c","d"]];
                    
                });
                avalon.scan();
                setTimeout(function() {
                    //console.log(avalon.type(model))
                 //   model.third = [[["1","2"],["3","4"]]]
                  console.log(model.third[0][0])
                  model.third[0].set(0, "ppppppppppp")
                    model.array.splice(1, 2, "a", "b", "c")
                    model.people = [{
                            firstName: "999",
                            lastName: "pppp"
                        }]
                }, 1000)
            })

        </script>
    </head>
    <body>
        <div ms-controller="array">
            
            <div ms-each-s="third">
                <div ms-each-i="s">
                    <p> <b>{{i}}</b> </p>
                </div>
            </div>
            
            
            
<!--            <ul ms-each-el="array" >
                <li>数组的第{{$index+1}}个元素为{{el}}</li>
            </ul>
            <p>对数组进行push操作，并回车<input ms-keypress="push"></p>
            <p>对数组进行unshift操作，并回车<input ms-keypress="unshift"></p>
            <p>对数组进行ensure操作，并回车<input ms-keypress="ensure"><br/>
                (只有数组不存在此元素才push进去)</p>
            <p>对数组进行remove操作，并回车<input ms-keypress="remove"></p>
            <p>对数组进行removeAt操作，并回车<input ms-keypress="removeAt"></p>
            <p><button type="button" ms-click="sort">对数组进行sort操作</button></p>
            <p><button type="button" ms-click="reverse">对数组进行reverse操作</button></p>
            <p><button type="button" ms-click="shift">对数组进行shift操作</button></p>
            <p><button type="button" ms-click="pop">对数组进行pop操作</button></p>
            <p>当前数组的长度为{{array.size()}}，……</p>
            <table>
                <thead>
                    <tr><th>First name</th><th>Last name</th></tr>
                </thead>
                <tbody ms-each-p="people">
                    <tr>
                        <td>{{p.firstName}}!!!!!</td>
                        <td>{{p.lastName}}</td>
                    </tr>
                </tbody>
            </table>-->
        </div>


    </body>
</html>
